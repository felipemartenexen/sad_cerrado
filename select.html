<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Multiselect Example</title>
</head>
<body>
    <label for="stateSelect">Select a State:</label>
    <select id="stateSelect" multiple>
        <option value="california">California</option>
        <option value="newyork">New York</option>
        <!-- Add more states here -->
    </select>

    <label for="citySelect">Select a City:</label>
    <select id="citySelect" multiple>
        <!-- Cities will be dynamically populated here -->
    </select>

    <script>
        const stateSelect = document.getElementById("stateSelect");
        const citySelect = document.getElementById("citySelect");

        // Define city options for each state
        const citiesByState = {
            california: ["Los Angeles", "San Francisco", "San Diego"],
            newyork: ["New York City", "Buffalo", "Rochester"],
            // Add more cities for other states here
        };

        // Function to update city options based on selected state
        function updateCities() {
            citySelect.innerHTML = ""; // Clear previous city options

            const selectedStates = Array.from(stateSelect.selectedOptions).map(option => option.value);

            selectedStates.forEach(state => {
                if (citiesByState[state]) {
                    citiesByState[state].forEach(city => {
                        const option = document.createElement("option");
                        option.value = city;
                        option.textContent = city;
                        citySelect.appendChild(option);
                    });
                }
            });
        }

        // Add event listener to state select to update cities on selection change
        stateSelect.addEventListener("change", updateCities);
    </script>
</body>
</html>
